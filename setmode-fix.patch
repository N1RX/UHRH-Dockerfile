--- uhrr-data/UHRR	2025-08-02 15:32:13
+++ uhrr-data/UHRR copy	2025-08-02 15:32:57
@@ -395,14 +395,29 @@
 			print("Could not obtain the current frequency via Hamlib!")
 		return self.infos["FREQ"]
 		
-	def setMode(self,MODE):
+	def setMode(self, MODE):
+		mode_map = {
+			"CW": Hamlib.RIG_MODE_CW,
+			"CWR": Hamlib.RIG_MODE_CWR,
+			"AM": Hamlib.RIG_MODE_AM,
+			"FM": Hamlib.RIG_MODE_FM,
+			"USB": Hamlib.RIG_MODE_USB,
+			"LSB": Hamlib.RIG_MODE_LSB,
+		}
+
 		try:
-		    
-			self.rig.set_mode(Hamlib.rig_parse_mode(MODE))
-			self.getMode()
-		except:
-			print("Could not set the mode via Hamlib!")
+			mode_upper = MODE.strip().upper()
+			if mode_upper not in mode_map:
+				print(f"Unsupported mode: {MODE}")
+				return self.infos["MODE"]
+
+			self.rig.set_mode(mode_map[mode_upper])
+			self.getMode()
+		except Exception as e:
+			print(f"Could not set the mode via Hamlib! {e}")
+
 		return self.infos["MODE"]
+
 		
 	def getMode(self):
 		try:
